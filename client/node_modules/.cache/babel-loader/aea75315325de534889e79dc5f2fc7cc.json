{"ast":null,"code":"var _jsxFileName = \"/app/src/Pages/Article.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { createSearchParams, useNavigate, useParams } from \"react-router-dom\";\nimport \"./ArticleList.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Article = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const [articleData, setArticleData] = useState(null);\n\n  const getArticleData = async id => {\n    await axios.get(`http://localhost:8000/api/v1/article/${id}`).then(res => {\n      setArticleData(res.data[0]);\n    });\n  };\n\n  let params = new URLSearchParams(window.location.search);\n  useEffect(() => {\n    getArticleData(id);\n  }, [id, params.has(\"edit\")]);\n\n  const onEdit = () => {\n    navigate({\n      search: `?${createSearchParams({\n        edit: \"true\"\n      })}`\n    });\n  };\n\n  const onDelete = async id => {\n    await axios.delete(`http://localhost:8000/api/v1/article/${id}`);\n    navigate(\"/articles\");\n  };\n\n  const onGoBack = () => {\n    navigate(\"/articles\");\n  };\n\n  const onSave = async data => {\n    await axios.patch(`http://localhost:8000/api/v1/article/${id}`, data);\n  };\n\n  const handleInput = e => {\n    let newArticle = { ...articleData,\n      [e.target.name]: e.target.value\n    };\n    setArticleData(newArticle);\n  };\n\n  if (!articleData) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container details\",\n    children: [params.has(\"edit\") ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"article__title\",\n        children: \"Article editing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        type: \"text\",\n        name: \"heading\",\n        value: articleData.heading,\n        onChange: handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"article__title\",\n      children: articleData.heading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }, this), params.has(\"edit\") ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n      className: \"input\",\n      name: \"content\",\n      cols: \"30\",\n      rows: \"10\",\n      value: articleData.content,\n      onChange: handleInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"article__content\",\n      children: articleData.content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"article__timestamp-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"article__timestamp-details\",\n        children: [\"Article was created at: \", articleData.created_at]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"article__timestamp-details\",\n        children: [\"Article was edited at:\", \" \", articleData.created_at === articleData.updated_at ? null : articleData.updated_at]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), params.has(\"edit\") ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => (onSave(articleData), navigate(`/article/${id}`)),\n      children: \"Save\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"article__button-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onDelete(id),\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onEdit(),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onGoBack(),\n        children: \"Go back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }, this)]\n  }, articleData.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Article, \"1KyPdc39eJ8bMywsBDYEylMUqL8=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = Article;\nexport default Article;\n\nvar _c;\n\n$RefreshReg$(_c, \"Article\");","map":{"version":3,"sources":["/app/src/Pages/Article.jsx"],"names":["axios","React","useEffect","useState","createSearchParams","useNavigate","useParams","Article","navigate","id","articleData","setArticleData","getArticleData","get","then","res","data","params","URLSearchParams","window","location","search","has","onEdit","edit","onDelete","delete","onGoBack","onSave","patch","handleInput","e","newArticle","target","name","value","heading","content","created_at","updated_at"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { createSearchParams, useNavigate, useParams } from \"react-router-dom\";\nimport \"./ArticleList.scss\";\n\nconst Article = () => {\n    const navigate = useNavigate();\n    const { id } = useParams();\n\n    const [articleData, setArticleData] = useState(null);\n    const getArticleData = async (id) => {\n        await axios\n            .get(`http://localhost:8000/api/v1/article/${id}`)\n            .then((res) => {\n                setArticleData(res.data[0]);\n            });\n    };\n\n    let params = new URLSearchParams(window.location.search);\n    useEffect(() => {\n        getArticleData(id);\n    }, [id, params.has(\"edit\")]);\n\n    const onEdit = () => {\n        navigate({\n            search: `?${createSearchParams({\n                edit: \"true\",\n            })}`,\n        });\n    };\n\n    const onDelete = async (id) => {\n        await axios.delete(`http://localhost:8000/api/v1/article/${id}`);\n        navigate(\"/articles\");\n    };\n\n    const onGoBack = () => {\n        navigate(\"/articles\");\n    };\n\n    const onSave = async (data) => {\n        await axios.patch(`http://localhost:8000/api/v1/article/${id}`, data);\n    };\n\n    const handleInput = (e) => {\n        let newArticle = {\n            ...articleData,\n            [e.target.name]: e.target.value,\n        };\n        setArticleData(newArticle);\n    };\n\n    if (!articleData) return null;\n    return (\n        <div key={articleData.id} className=\"container details\">\n            {params.has(\"edit\") ? (\n                <>\n                <p className=\"article__title\">Article editing</p>\n                <input\n                    className=\"input\"\n                    type=\"text\"\n                    name=\"heading\"\n                    value={articleData.heading}\n                    onChange={handleInput}\n                />\n                </>\n            ) : (\n                <p className=\"article__title\">{articleData.heading}</p>\n            )}\n            {params.has(\"edit\") ? (\n                <textarea\n                className=\"input\"\n                    name=\"content\"\n                    cols=\"30\"\n                    rows=\"10\"\n                    value={articleData.content}\n                    onChange={handleInput}\n                ></textarea>\n            ) : (\n                <p className=\"article__content\">{articleData.content}</p>\n            )}\n            <div className=\"article__timestamp-container\">\n                <p className=\"article__timestamp-details\">\n                    Article was created at: {articleData.created_at}\n                </p>\n                <p className=\"article__timestamp-details\">\n                    Article was edited at:{\" \"}\n                    {articleData.created_at === articleData.updated_at\n                        ? null\n                        : articleData.updated_at}\n                </p>\n            </div>\n            {params.has(\"edit\") ? (\n                <button\n                    onClick={() => (\n                        onSave(articleData), navigate(`/article/${id}`)\n                    )}\n                >\n                    Save\n                </button>\n            ) : (\n                <div className=\"article__button-container\">\n                    <button onClick={() => onDelete(id)}>Delete</button>\n                    <button onClick={() => onEdit()}>Edit</button>\n                    <button onClick={() => onGoBack()}>Go back</button>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default Article;\n"]},"metadata":{},"sourceType":"module"}