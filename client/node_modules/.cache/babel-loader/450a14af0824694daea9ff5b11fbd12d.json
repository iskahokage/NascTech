{"ast":null,"code":"var _jsxFileName = \"/app/src/Pages/ArticleList.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { createSearchParams, Link, useNavigate } from \"react-router-dom\";\nimport \"./ArticleList.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ArticleList = () => {\n  _s();\n\n  const [articleData, setArticleData] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    axios.get(\"http://localhost:8000/api/v1/articles\").then(res => {\n      const data = res.data;\n      setArticleData(data.sort((a, b) => b.id - a.id));\n    });\n  }, []);\n  let params = new URLSearchParams(window.location.search);\n\n  const onCreate = () => {\n    navigate({\n      search: `?${createSearchParams({\n        edit: \"true\"\n      })}`\n    });\n  };\n\n  const onSave = async data => {\n    await axios.post(`http://localhost:8000/api/v1/article`, data).then(res => {\n      setArticleData(res.data[0]);\n      navigate(`/article/${res.data[0].id}?edit=true`);\n    });\n  };\n\n  const onGoBack = () => {\n    navigate(\"/articles\");\n  };\n\n  const handleInput = e => {\n    let newArticle = { ...articleData,\n      [e.target.name]: e.target.value\n    };\n    setArticleData(newArticle);\n  };\n\n  if (!articleData) return null;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [params.has(\"edit\") ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Article creation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 35\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Articles\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 63\n    }, this), params.has(\"edit\") ? /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"create\",\n      onClick: () => onGoBack(),\n      children: \"Go back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"create\",\n      onClick: () => onCreate(),\n      children: \"New Article\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this), params.has(\"edit\") ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container details\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        type: \"text\",\n        name: \"heading\",\n        placeholder: \"Article name\",\n        onChange: handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"input\",\n        name: \"content\",\n        id: \"\",\n        cols: \"30\",\n        rows: \"10\",\n        placeholder: \"Article content\",\n        onChange: handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onSave(articleData),\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: articleData.map(article => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"article\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          className: \"article__link\",\n          to: `/article/${article.id}`,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"article__title\",\n            children: article.heading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"article__timestamp\",\n          children: article.created_at\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 29\n        }, this)]\n      }, article.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ArticleList, \"HUHDfzfGF2YxvQsB0I2G6JAQiCQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ArticleList;\nexport default ArticleList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArticleList\");","map":{"version":3,"sources":["/app/src/Pages/ArticleList.jsx"],"names":["axios","React","useEffect","useState","createSearchParams","Link","useNavigate","ArticleList","articleData","setArticleData","navigate","get","then","res","data","sort","a","b","id","params","URLSearchParams","window","location","search","onCreate","edit","onSave","post","onGoBack","handleInput","e","newArticle","target","name","value","has","map","article","heading","created_at"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { createSearchParams, Link, useNavigate } from \"react-router-dom\";\nimport \"./ArticleList.scss\";\nconst ArticleList = () => {\n    const [articleData, setArticleData] = useState(null);\n    const navigate = useNavigate();\n    useEffect(() => {\n        axios.get(\"http://localhost:8000/api/v1/articles\").then((res) => {\n            const data = res.data\n            setArticleData(data.sort((a, b) => b.id - a.id));\n        });\n    }, []);\n    let params = new URLSearchParams(window.location.search);\n\n    const onCreate = () => {\n        navigate({\n            search: `?${createSearchParams({\n                edit: \"true\",\n            })}`,\n        });\n    };\n    const onSave = async (data) => {\n        await axios\n            .post(`http://localhost:8000/api/v1/article`, data)\n            .then((res) => {\n                setArticleData(res.data[0]);\n                navigate(`/article/${res.data[0].id}?edit=true`);\n            });\n    };\n    const onGoBack = () => {\n        navigate(\"/articles\");\n    };\n\n    const handleInput = (e) => {\n        let newArticle = {\n            ...articleData,\n            [e.target.name]: e.target.value,\n        };\n        setArticleData(newArticle);\n    };\n\n    if (!articleData) return null;\n    return (\n        <>\n            {params.has(\"edit\") ? <h1>Article creation</h1> : <h1>Articles</h1>}\n\n            {params.has(\"edit\") ? (\n                <button className=\"create\" onClick={() => onGoBack()}>Go back</button>\n            ) : (\n                <button  className=\"create\" onClick={() => onCreate()}>New Article</button>\n            )}\n\n            {params.has(\"edit\") ? (\n                <div className=\"container details\">\n                    <input\n                    className=\"input\"\n                        type=\"text\"\n                        name=\"heading\"\n                        placeholder=\"Article name\"\n                        onChange={handleInput}\n                    />\n                    <textarea\n                    className=\"input\"\n                        name=\"content\"\n                        id=\"\"\n                        cols=\"30\"\n                        rows=\"10\"\n                        placeholder=\"Article content\"\n                        onChange={handleInput}\n                    ></textarea>\n                    <button onClick={() => onSave(articleData)}>Save</button>\n                </div>\n            ) : (\n                <div className=\"container\">\n                    {articleData.map((article) => (\n                        <div className=\"article\" key={article.id}>\n                            <Link\n                                className=\"article__link\"\n                                to={`/article/${article.id}`}\n                            >\n                                <p className=\"article__title\">\n                                    {article.heading}\n                                </p>\n                            </Link>\n                            <p className=\"article__timestamp\">\n                                {article.created_at}\n                            </p>\n                        </div>\n                    ))}\n                </div>\n            )}\n        </>\n    );\n};\n\nexport default ArticleList;\n"]},"metadata":{},"sourceType":"module"}